# I3WM

## Install

```bash
sudo apt install i3 i3status
dmenu # run app with mod+d
i3lock i3lock-fancy # lockscreen
feh # background pic
xrandr # handle monitors
```

`alt` mod key + this keys:

- `enter`: new terminal
- `D`: open program
- `arrows`: move between windows
- `#`: create or move to # workspace
- `shift+#`: move window to # workspace
- `F`: window to full
- `R`: resize window
- `V`: open next windows in vertical
- `H`: open next windows in horizontal
- `E`: change layout
- `W`: all windows on workspace to full
- `shift+Q`: kill window
- `shift+E`: logout
- `shift+R`: reload

## night light

create this file: `.config/redshift/redshift.conf`

```bash
[redshift]
temp-day=5700 
temp-night=3500
brightness-day=1
brightness-night=1
dawn-time=5:00-6:00
dusk-time=19:30-20:00
gamma=0.750:0.750:0.750
transition=1
adjustment-method=randr
location-provider=manual
[manual]
lat=31.31
lon=48.67
```

## main config

```bash
# change this
# bindsym $mod+Shift+q kill
bindsym $mod+q kill

# comment this and uncomment below
# bindsym $mod+d exec --no-startup-id dmenu
bindsym $mod+j exec --no-startup-id i3-dmenu-desktop

## comment all the `change focus` section
```

## i3bar

copy the `bumblebee-status` folder into `i3` directory in `.config`

```bash
bar {
        # status_command i3blocks -c ~/.config/i3/i3blocks.conf
        font pango:Mono, Vazir, FontAwesome 12
	#font Vazir FontAwesome 10

        status_command ~/.config/i3/bumblebee-status/bumblebee-status -m \
        ping traffic timetz time mydate date sensors2 cpu memory pasink pasource layout-xkb battery \
        -p root.path=/  date.format="%d %b (%m)" time.format="%H:%M" \
        timetz.timezone="America/Toronto" timetz.format="Toronto: %H:%M" \
        ping.address="8.8.8.8"\
        traffic.format="{:.0f}" traffic.exclude="tun0, docker0, outline-tun0, lo, tun1, wlp3s0" traffic.showname="false" \
        sensors2.showcpu="false" sensors2.chip_field_include="thinkpad-isa-0000.temp1" \
        memory.format="{percent:05.02f}%" \
        battery.decorate="false" \
        -t dracula-powerline

	position top
        tray_output primary
        colors {
                background #1F2D3A
                statusline #1ABC9C
                separator #1ABC9C
                # colorclass       <border> <background> <text>
                focused_workspace  #1ABC9C  #1ABC9C     #1F2D3A
                inactive_workspace #1F2D3A  #1F2D3A     #1ABC9C

        }
        
}
```

## my config

```bash
### startups ###

# keyboard layout
exec --no-startup-id setxkbmap -layout us,ir -option 'grp:alt_shift_toggle'
# monitors config
exec --no-startup-id xrandr --output VGA-1 --primary --auto --left-of LVDS-1
# exec --no-startup-id xrandr --output VGA-1 --auto --left-of LVDS-1
# night light
exec --no-startup-id redshift
# background pic
exec --no-startup-id feh --bg-fill Pictures/background/46497.png
# screen saver off
exec --no-startup-id xset s off
exec --no-startup-id xset -dpms
# exec --no-startup-id xset s reset
# exec --no-startup-id xset s 1800
# chrome data
exec --no-startup-id /usr/bin/gnome-keyring-daemon --start --components=secrets
# numlock on
exec --no-startup-id numlockx on
# password promp
exec --no-startup-id /usr/lib/policykit-1-gnome/polkit-gnome-authentication-agent-1 &

#### bindings ###

# lock shut down and sleep
set $Locker i3lock-fancy -p && sleep 1
set $mode_system System (l) lock, (e) exit, (s) suspend, (r) reboot, (p) poweroff
mode "$mode_system" {
    bindsym l exec --no-startup-id $Locker, mode "default"
    bindsym e exec --no-startup-id i3-msg exit, mode "default"
    bindsym s exec --no-startup-id $Locker && systemctl suspend, mode "default"
    bindsym r exec --no-startup-id systemctl reboot, mode "default"
    bindsym p exec --no-startup-id systemctl poweroff -i, mode "default"  
    # back to normal: Enter or Escape
    bindsym Return mode "default"
    bindsym Escape mode "default"
}
bindsym $mod+Shift+m mode "$mode_system"


# media keys
bindsym XF86AudioPlay exec playerctl play
bindsym XF86AudioPause exec playerctl pause
bindsym XF86AudioNext exec playerctl next
bindsym XF86AudioPrev exec playerctl previous


# switch to workspace
bindsym $mod+mod2+KP_1 workspace number $ws1
bindsym $mod+mod2+KP_2 workspace number $ws2
bindsym $mod+mod2+KP_3 workspace number $ws3
bindsym $mod+mod2+KP_4 workspace number $ws4
bindsym $mod+mod2+KP_5 workspace number $ws5
bindsym $mod+mod2+KP_6 workspace number $ws6
bindsym $mod+mod2+KP_7 workspace number $ws7
bindsym $mod+mod2+KP_8 workspace number $ws8
bindsym $mod+mod2+KP_9 workspace number $ws9
bindsym $mod+mod2+KP_0 workspace number $ws10

# move focused container to workspace (with numpad)
# shift+kp_1 will be resulted to kp_end!!
bindsym $mod+Shift+Mod2+KP_End move container to workspace 1
bindsym $mod+Shift+Mod2+KP_Down move container to workspace 2
bindsym $mod+Shift+Mod2+KP_Next move container to workspace 3
bindsym $mod+Shift+Mod2+KP_Left move container to workspace 4
bindsym $mod+Shift+Mod2+KP_Begin move container to workspace 5
bindsym $mod+Shift+Mod2+KP_Right move container to workspace 6
bindsym $mod+Shift+Mod2+KP_Home move container to workspace 7
bindsym $mod+Shift+Mod2+KP_Up move container to workspace 8
bindsym $mod+Shift+Mod2+KP_Prior move container to workspace 9
bindsym $mod+Shift+Mod2+KP_Insert move container to workspace 10

```

## jalali date

put this in `.config/i3/bumblebee-status/bumblebee_status/modules/contrib/mydate.py`

```python
from __future__ import absolute_import
import jdatetime

import core.module
import core.widget
import core.decorators


class Module(core.module.Module):
    @core.decorators.every(seconds=59)
    def __init__(self, config, theme):
        super().__init__(config, theme, core.widget.Widget(self.get_time))

    def get_time(self, widget):
        # "چهارشنبه ۵ مرداد"
        jdatetime.set_locale('fa_IR')
        t = jdatetime.date.today()
        retval = t.strftime("%A %d %B")
        return retval
```

### color

add another index to `.config/i3/bumblebee-status/themes/` and desired theme. eg: `dracula-powerline.json`

### icon

add another index to `.config/i3/bumblebee-status/themes/icons/awesome-fonts.json`
